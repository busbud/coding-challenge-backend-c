<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>

<form>
    <div class="typeahead-container">
        <div class="typeahead-field">
            <span class="typeahead-query">
                <input class="typeahead" id="q"
                       name="q"
                       type="text"
                       autocomplete="on">
            </span>
        </div>
    </div>
</form>

<script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
<script src="http://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>

<script type="text/javascript">
    // Instantiate the Bloodhound suggestion engine
    var movies = new Bloodhound({
        datumTokenizer: function (datum) {
            return Bloodhound.tokenizers.whitespace(datum.value);
        },
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: {
            url: 'http://127.0.0.1:5000/suggestions?q=%QUERY',
            filter: function (movies) {
                // Map the remote source JSON array to a JavaScript object array
                return $.map(movies.results, function (movie) {
                    return {
                        value: movie.name
                    };
                });
            }
        }
    });

    // Initialize the Bloodhound suggestion engine
    movies.initialize();

    // Instantiate the Typeahead UI
    $('.typeahead').typeahead(null, {
        displayKey: 'name',
        source: movies.ttAdapter()
    });
</script>
</body>
</html>
var hasOwn = require('./hasOwn');
var every = require('./every');
var isObject = require('../lang/isObject');

    function compareValues(value, key) {
        return hasOwn(this, key) && this[key] === value;
    }

    function checkProperties(value, key) {
        return hasOwn(this, key);
    }

    /**
     * Checks if two objects have the same keys and values.
     */
    function equals(a, b) {
        if (a === b) {
            return true;
        } else if (!isObject(a) || !isObject(b)) {
            return false;
        }

        return every(a, compareValues, b) && every(b, checkProperties, a);
    }

    module.exports = equals;


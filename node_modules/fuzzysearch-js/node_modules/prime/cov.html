<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Coverate Results</title>
<style>
	.error { background: #F8D5D8 }
	.count { font-weight: bold; border-radius: 3px }
	.pass .count { background: #BFFFBF;}	.error .count { background: #F8D5D8; color: red}</style>
</head>
<body>
<h1>index.js (86%)</h1>

<pre>/*
prime
 - prototypal inheritance
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var hasOwn = require("./object/hasOwn"),
    forIn  = require("./object/forIn"),
    mixIn  = require("./object/mixIn"),
    filter = require("./object/filter"),
    create = require("./object/create"),
    type   = require("./type")

</span><span class="pass" data-count="1"><span class="count">1</span>var defineProperty           = Object.defineProperty,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor

</span><span class="pass" data-count="1"><span class="count">1</span>try {
    <span class="pass" data-count="1"><span class="count">1</span>defineProperty({}, "~", {})
    </span><span class="pass" data-count="1"><span class="count">1</span>getOwnPropertyDescriptor({}, "~")
</span>} catch (e){
    <span class="error" data-count="0"><span class="count">0</span>defineProperty = null
    </span><span class="error" data-count="0"><span class="count">0</span>getOwnPropertyDescriptor = null
</span>}</span>

<span class="pass" data-count="1"><span class="count">1</span>var define = function(value, key, from){
    <span class="pass" data-count="41"><span class="count">41</span>defineProperty(this, key, getOwnPropertyDescriptor(from, key) || {
        writable: true,
        enumerable: true,
        configurable: true,
        value: value
    })
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var copy = function(value, key){
    <span class="error" data-count="0"><span class="count">0</span>this[key] = value
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var implement = function(proto){
    <span class="pass" data-count="40"><span class="count">40</span>forIn(proto, defineProperty ? define : copy, this.prototype)
    </span><span class="pass" data-count="40"><span class="count">40</span>return this
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var verbs = /^constructor|inherits|mixin$/

</span><span class="pass" data-count="1"><span class="count">1</span>var prime = function(proto){

    <span class="pass" data-count="33"><span class="count">33</span>if (type(proto) === "function") proto = {constructor: proto}

    </span><span class="pass" data-count="33"><span class="count">33</span>var superprime = proto.inherits

    // if our nice proto object has no own constructor property
    // then we proceed using a ghosting constructor that all it does is
    // call the parent's constructor if it has a superprime, else an empty constructor
    // proto.constructor becomes the effective constructor
    </span><span class="pass" data-count="33"><span class="count">33</span>var constructor = (hasOwn(proto, "constructor")) ? proto.constructor : (superprime) ? function(){
        <span class="pass" data-count="25"><span class="count">25</span>return superprime.apply(this, arguments)
    </span>} : function(){}

    </span><span class="pass" data-count="33"><span class="count">33</span>if (superprime){

        <span class="pass" data-count="18"><span class="count">18</span>mixIn(constructor, superprime)

        </span><span class="pass" data-count="18"><span class="count">18</span>var superproto = superprime.prototype
        // inherit from superprime
        </span><span class="pass" data-count="18"><span class="count">18</span>var cproto = constructor.prototype = create(superproto)

        // setting constructor.parent to superprime.prototype
        // because it's the shortest possible absolute reference
        </span><span class="pass" data-count="18"><span class="count">18</span>constructor.parent = superproto
        </span><span class="pass" data-count="18"><span class="count">18</span>cproto.constructor = constructor
    </span>}</span>

    <span class="pass" data-count="33"><span class="count">33</span>if (!constructor.implement) constructor.implement = implement

    </span><span class="pass" data-count="33"><span class="count">33</span>var mixins = proto.mixin
    </span><span class="pass" data-count="33"><span class="count">33</span>if (mixins){
        <span class="error" data-count="0"><span class="count">0</span>if (type(mixins) !== "array") mixins = [mixins]
        </span><span class="error" data-count="0"><span class="count">0</span>for (var i = 0; i < mixins.length; i++) constructor.implement(create(mixins[i].prototype))
    </span>}</span>

    // implement proto and return constructor
    <span class="pass" data-count="33"><span class="count">33</span>return constructor.implement(filter(proto, function(value, key){
        <span class="pass" data-count="62"><span class="count">62</span>return !key.match(verbs)
    </span>}))

</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = prime
</pre><h1>object/hasOwn.js (100%)</h1>

<pre>/*
object:hasOwn
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var hasOwnProperty = Object.hasOwnProperty

</span><span class="pass" data-count="1"><span class="count">1</span>var hasOwn = function(self, key){
    <span class="pass" data-count="53"><span class="count">53</span>return hasOwnProperty.call(self, key)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = hasOwn
</pre><h1>object/forIn.js (47%)</h1>

<pre>/*
object:forIn
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var has = require("./hasOwn")

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = function(self, method, context){
    <span class="pass" data-count="117"><span class="count">117</span>for (var key in self) if (method.call(context, self[key], key, self) === false) break</span>
    <span class="pass" data-count="117"><span class="count">117</span>return self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>if (!({valueOf: 0}).propertyIsEnumerable("valueOf")){ // fix for stupid IE enumeration bug

    <span class="error" data-count="0"><span class="count">0</span>var buggy = "constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(",")
    </span><span class="error" data-count="0"><span class="count">0</span>var proto = Object.prototype

    </span><span class="error" data-count="0"><span class="count">0</span>forIn = function(self, method, context){
        <span class="error" data-count="0"><span class="count">0</span>for (var key in self) if (method.call(context, self[key], key, self) === false) return self
        </span><span class="error" data-count="0"><span class="count">0</span>for (var i = 0; key = buggy[i]; i++){
            <span class="error" data-count="0"><span class="count">0</span>var value = self[key]
            </span><span class="error" data-count="0"><span class="count">0</span>if ((value !== proto[key] || has(self, key)) && method.call(context, value, key, self) === false) break</span>
        }</span>
        <span class="error" data-count="0"><span class="count">0</span>return self
    </span>}

</span>}</span>

<span class="pass" data-count="1"><span class="count">1</span>module.exports = forIn
</pre><h1>object/mixIn.js (100%)</h1>

<pre>/*
object:mixIn
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forOwn = require("./forOwn")

</span><span class="pass" data-count="1"><span class="count">1</span>var copy = function(value, key){
    <span class="pass" data-count="20"><span class="count">20</span>this[key] = value
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var mixIn = function(self){
    <span class="pass" data-count="18"><span class="count">18</span>for (var i = 1, l = arguments.length; i < l; i++) forOwn(arguments[i], copy, self)
    </span><span class="pass" data-count="18"><span class="count">18</span>return self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = mixIn
</pre><h1>object/forOwn.js (100%)</h1>

<pre>/*
object:forOwn
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn  = require("./forIn"),
    hasOwn = require("./hasOwn")

</span><span class="pass" data-count="1"><span class="count">1</span>var forOwn = function(self, method, context){
    <span class="pass" data-count="18"><span class="count">18</span>forIn(self, function(value, key){
        <span class="pass" data-count="20"><span class="count">20</span>if (hasOwn(self, key)) return method.call(context, value, key, self)
    </span>})
    </span><span class="pass" data-count="18"><span class="count">18</span>return self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = forOwn
</pre><h1>object/filter.js (100%)</h1>

<pre>/*
object:filter
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var filter = function(self, method, context){
    <span class="pass" data-count="34"><span class="count">34</span>var results = {}
    </span><span class="pass" data-count="34"><span class="count">34</span>forIn(self, function(value, key){
        <span class="pass" data-count="65"><span class="count">65</span>if (method.call(context, value, key, self)) results[key] = value
    </span>})
    </span><span class="pass" data-count="34"><span class="count">34</span>return results
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = filter
</pre><h1>object/create.js (100%)</h1>

<pre>/*
object:create
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var create = function(self){
    <span class="pass" data-count="18"><span class="count">18</span>var constructor = function(){}
    </span><span class="pass" data-count="18"><span class="count">18</span>constructor.prototype = self
    </span><span class="pass" data-count="18"><span class="count">18</span>return new constructor
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = create
</pre><h1>type.js (100%)</h1>

<pre>/*
type
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var toString = Object.prototype.toString,
    types = /number|object|array|string|function|date|regexp|boolean/

</span><span class="pass" data-count="1"><span class="count">1</span>var type = function(object){
    <span class="pass" data-count="58"><span class="count">58</span>if (object == null) return "null"
    </span><span class="pass" data-count="56"><span class="count">56</span>var string = toString.call(object).slice(8, -1).toLowerCase()
    </span><span class="pass" data-count="56"><span class="count">56</span>if (string === "number" && isNaN(object)) return "null"
    </span><span class="pass" data-count="55"><span class="count">55</span>if (types.test(string)) return string
    </span><span class="pass" data-count="1"><span class="count">1</span>return "object"
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = type
</pre><h1>array.js (100%)</h1>

<pre>/*
array
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var array = require("./_shell")["array"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = Array.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>array.implement({
    concat:   proto.concat,
    join:     proto.join,
    pop:      proto.pop,
    push:     proto.push,
    reverse:  proto.reverse,
    shift:    proto.shift,
    slice:    proto.slice,
    sort:     proto.sort,
    splice:   proto.splice,
    toString: proto.toString,
    unshift:  proto.unshift
})

</span><span class="pass" data-count="1"><span class="count">1</span>array.extend({
    every:       require("./array/every"),
    filter:      require("./array/filter"),
    forEach:     require("./array/forEach"),
    indexOf:     require("./array/indexOf"),
    lastIndexOf: require("./array/lastIndexOf"),
    map:         require("./array/map"),
    remove:      require("./array/remove"),
    some:        require("./array/some"),
    unset:       require("./array/unset")
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = array
</pre><h1>_shell.js (80%)</h1>

<pre>/*
shell
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var prime = require("./index"),
    type  = require("./type"),
    forIn = require("./object/forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var slice = Array.prototype.slice,
    push  = Array.prototype.push

</span><span class="pass" data-count="1"><span class="count">1</span>var ghost = prime({

    constructor: function ghost(self){

        <span class="pass" data-count="13"><span class="count">13</span>this.valueOf = function(){
            <span class="pass" data-count="9"><span class="count">9</span>return self
        </span>}

        </span><span class="pass" data-count="13"><span class="count">13</span>this.toString = function(){
            <span class="pass" data-count="1"><span class="count">1</span>return self + ""
        </span>}

        </span><span class="pass" data-count="13"><span class="count">13</span>this.is = function(object){
            <span class="pass" data-count="3"><span class="count">3</span>return self === object
        </span>}

        </span><span class="pass" data-count="13"><span class="count">13</span>this.get = function(index){
            <span class="error" data-count="0"><span class="count">0</span>return self[index]
        </span>}

        </span><span class="pass" data-count="13"><span class="count">13</span>this.set = function(index, value){
            <span class="error" data-count="0"><span class="count">0</span>self[index] = value
            </span><span class="error" data-count="0"><span class="count">0</span>return self
        </span>}
    </span>}

})

</span><span class="pass" data-count="1"><span class="count">1</span>var shell = function(self){
    <span class="pass" data-count="12"><span class="count">12</span>if (self == null || self instanceof ghost) return self
    </span><span class="pass" data-count="12"><span class="count">12</span>var g = shell[type(self)]
    </span><span class="pass" data-count="12"><span class="count">12</span>return (g) ? new g(self) : self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var register = function(){

    <span class="pass" data-count="7"><span class="count">7</span>var g = prime({inherits: ghost})

    </span><span class="pass" data-count="7"><span class="count">7</span>var s = prime(function(self){
        <span class="pass" data-count="13"><span class="count">13</span>return new g(self)
    </span>})

    </span><span class="pass" data-count="7"><span class="count">7</span>s.extend = function(object){

        <span class="pass" data-count="5"><span class="count">5</span>var self = this

        </span><span class="pass" data-count="5"><span class="count">5</span>forIn(object, function(method, key){

            <span class="pass" data-count="35"><span class="count">35</span>this[key] = method

            </span><span class="pass" data-count="35"><span class="count">35</span>this.prototype[key] = function(){
                <span class="error" data-count="0"><span class="count">0</span>if (!arguments.length) return method.call(self, this)
                </span><span class="error" data-count="0"><span class="count">0</span>var args = [this]
                </span><span class="error" data-count="0"><span class="count">0</span>push.apply(args, arguments)
                </span><span class="error" data-count="0"><span class="count">0</span>return method.apply(self, args)
            </span>}

            </span><span class="pass" data-count="35"><span class="count">35</span>g.prototype[key] = function(){
                <span class="pass" data-count="1"><span class="count">1</span>var value = this.valueOf()
                </span><span class="pass" data-count="1"><span class="count">1</span>if (!arguments.length) return method.call(self, value)
                </span><span class="error" data-count="0"><span class="count">0</span>var args = [value]
                </span><span class="error" data-count="0"><span class="count">0</span>push.apply(args, arguments)
                </span><span class="error" data-count="0"><span class="count">0</span>return method.apply(self, args)
            </span>}

        </span>}, this)

        </span><span class="pass" data-count="5"><span class="count">5</span>return this
    </span>}

    </span><span class="pass" data-count="7"><span class="count">7</span>s.implement = function(object){

        <span class="pass" data-count="8"><span class="count">8</span>forIn(object, function(method, key){

            <span class="pass" data-count="81"><span class="count">81</span>this[key] = function(self){
                <span class="pass" data-count="14"><span class="count">14</span>return (arguments.length > 1) ? method.apply(self, slice.call(arguments, 1)) : method.call(self)
            </span>}

            </span><span class="pass" data-count="81"><span class="count">81</span>g.prototype[key] = function(){
                <span class="pass" data-count="5"><span class="count">5</span>return shell(method.apply(this.valueOf(), arguments))
            </span>}

            </span><span class="pass" data-count="81"><span class="count">81</span>this.prototype[key] = method

        </span>}, this)

        </span><span class="pass" data-count="8"><span class="count">8</span>return this
    </span>}

    </span><span class="pass" data-count="7"><span class="count">7</span>return s

</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>for (var types = ["string", "number", "array", "object", "date", "function", "regexp"], i = types.length; i--;) shell[types[i]] = register()

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = shell
</pre><h1>array/every.js (100%)</h1>

<pre>/*
array:every
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var every = function(self, method, context){
    <span class="pass" data-count="4"><span class="count">4</span>for (var i = 0, l = self.length >>> 0; i < l; i++){
        <span class="pass" data-count="11"><span class="count">11</span>if (!method.call(context, self[i], i, self)) return false
    </span>}</span>
    <span class="pass" data-count="3"><span class="count">3</span>return true
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = every
</pre><h1>array/filter.js (100%)</h1>

<pre>/*
array:filter
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var filter = function(self, method, context){
    <span class="pass" data-count="4"><span class="count">4</span>var results = []
    </span><span class="pass" data-count="4"><span class="count">4</span>for (var i = 0, l = self.length >>> 0; i < l; i++) {
        <span class="pass" data-count="16"><span class="count">16</span>var value = self[i]
        </span><span class="pass" data-count="16"><span class="count">16</span>if (method.call(context, value, i, self)) results.push(value)
    </span>}</span>
    <span class="pass" data-count="4"><span class="count">4</span>return results
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = filter
</pre><h1>array/forEach.js (100%)</h1>

<pre>/*
array:forEach
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forEach = function(self, method, context){
    <span class="pass" data-count="4"><span class="count">4</span>for (var i = 0, l = self.length >>> 0; i < l; i++){
        <span class="pass" data-count="12"><span class="count">12</span>if (method.call(context, self[i], i, self) === false) break</span>
    }</span>
    <span class="pass" data-count="4"><span class="count">4</span>return self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = forEach
</pre><h1>array/indexOf.js (100%)</h1>

<pre>/*
array:indexOf
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var indexOf = function(self, item, from){
    <span class="pass" data-count="68"><span class="count">68</span>for (var l = self.length >>> 0, i = (from < 0) ? Math.max(0, l + from) : from || 0; i < l; i++){
        <span class="pass" data-count="94"><span class="count">94</span>if (self[i] === item) return i
    </span>}</span>
    <span class="pass" data-count="53"><span class="count">53</span>return -1
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = indexOf
</pre><h1>array/lastIndexOf.js (100%)</h1>

<pre>/*
array:lastIndexOf
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = function(){}
</pre><h1>array/map.js (100%)</h1>

<pre>/*
array:map
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var map = function(self, method, context){
    <span class="pass" data-count="6"><span class="count">6</span>var length = self.length >>> 0, results = Array(length)
    </span><span class="pass" data-count="6"><span class="count">6</span>for (var i = 0, l = length; i < l; i++){
        <span class="pass" data-count="20"><span class="count">20</span>results[i] = method.call(context, self[i], i, self)
    </span>}</span>
    <span class="pass" data-count="6"><span class="count">6</span>return results
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = map
</pre><h1>array/remove.js (100%)</h1>

<pre>/*
array:remove
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var splice = Array.prototype.splice
</span><span class="pass" data-count="1"><span class="count">1</span>var indexOf = require("./indexOf")

</span><span class="pass" data-count="1"><span class="count">1</span>var remove = function(self, item){
    <span class="pass" data-count="2"><span class="count">2</span>var io = indexOf(self, item)
    </span><span class="pass" data-count="2"><span class="count">2</span>if (io !== -1) splice.call(self, io, 1)
    </span><span class="pass" data-count="2"><span class="count">2</span>return io
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = remove
</pre><h1>array/some.js (100%)</h1>

<pre>/*
array:some
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var some = function(self, method, context){
    <span class="pass" data-count="4"><span class="count">4</span>for (var i = 0, l = self.length >>> 0; i < l; i++){
        <span class="pass" data-count="9"><span class="count">9</span>if (method.call(context, self[i], i, self)) return true
    </span>}</span>
    <span class="pass" data-count="2"><span class="count">2</span>return false
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = some
</pre><h1>array/unset.js (67%)</h1>

<pre>/*
array:unset
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var splice = Array.prototype.splice

</span><span class="pass" data-count="1"><span class="count">1</span>var unset = function(self, index){
    <span class="error" data-count="0"><span class="count">0</span>var split = splice.call(self, index, 1)
    </span><span class="error" data-count="0"><span class="count">0</span>return split.length ? split[0] : null
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = unset
</pre><h1>date.js (100%)</h1>

<pre>/*
date
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var date = require("./_shell")["date"]

</span><span class="pass" data-count="1"><span class="count">1</span>var names = [
    "getDate", "getDay", "getFullYear", "getHours", "getMilliseconds", "getMinutes", "getMonth", "getSeconds", "getTime",
    "getTimezoneOffset", "getUTCDate", "getUTCDay", "getUTCFullYear", "getUTCHours", "getUTCMilliseconds", "getUTCMinutes",
    "getUTCMonth", "getUTCSeconds", "setDate", "setFullYear", "setHours", "setMilliseconds", "setMinutes", "setMonth",
    "setSeconds", "setTime", "setUTCDate", "setUTCFullYear", "setUTCHours", "setUTCMilliseconds", "setUTCMinutes",
    "setUTCMonth", "setUTCSeconds", "toDateString", "toLocaleDateString", "toLocaleString", "toLocaleTimeString",
    "toString", "toTimeString", "toUTCString", "valueOf"
]

</span><span class="pass" data-count="1"><span class="count">1</span>for (var proto = Date.prototype, methods = {}, i = 0, name; name = names[i++];) methods[name] = proto[name]

</span><span class="pass" data-count="1"><span class="count">1</span>date.implement(methods)

</span><span class="pass" data-count="1"><span class="count">1</span>date.now = require("./date/now")

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = date
</pre><h1>date/now.js (75%)</h1>

<pre>/*
date:now
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var now = Date.now || function(){
    <span class="error" data-count="0"><span class="count">0</span>return new Date().getTime()
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = now
</pre><h1>function.js (100%)</h1>

<pre>/*
function
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var function_ = require("./_shell")["function"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = Function.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>function_.implement({
    apply:    proto.apply,
    call:     proto.call,
    toString: proto.toString
})

</span><span class="pass" data-count="1"><span class="count">1</span>function_.extend({
    bind:     require("./function/bind")
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = function_
</pre><h1>function/bind.js (44%)</h1>

<pre>/*
function:bind
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var slice = Array.prototype.slice

</span><span class="pass" data-count="1"><span class="count">1</span>var bind = function(self, context){
    <span class="error" data-count="0"><span class="count">0</span>if (arguments.length < 3) return function(){
        <span class="error" data-count="0"><span class="count">0</span>return self.apply(context, arguments)
    </span>}
    </span><span class="error" data-count="0"><span class="count">0</span>var args = slice.call(arguments, 2)
    </span><span class="error" data-count="0"><span class="count">0</span>return function(){
        <span class="error" data-count="0"><span class="count">0</span>return self.apply(context, arguments.length ? args.concat(slice.call(arguments)): args)
    </span>}
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = bind
</pre><h1>number.js (100%)</h1>

<pre>/*
number
 - number es5 shell
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var number = require("./_shell")["number"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = Number.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>number.implement({
    toExponential: proto.toExponential,
    toFixed: proto.toFixed,
    toPrecision: proto.toPrecision
})

</span><span class="pass" data-count="1"><span class="count">1</span>number.extend({
    limit:  require("./number/limit"),
    random: require("./number/random"),
    round:  require("./number/round"),
    times:  require("./number/times")
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = number
</pre><h1>number/limit.js (100%)</h1>

<pre>/*
number:limit
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var limit = function(self, min, max){
    <span class="pass" data-count="3"><span class="count">3</span>return Math.min(max, Math.max(min, self))
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = limit
</pre><h1>number/random.js (100%)</h1>

<pre>/*
number:random
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var random = function(self, max){
    <span class="pass" data-count="101"><span class="count">101</span>return Math.floor(Math.random() * (max - self + 1) + self)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = random
</pre><h1>number/round.js (100%)</h1>

<pre>/*
number:round
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var round = function(self, precision){
    <span class="pass" data-count="8"><span class="count">8</span>precision = Math.pow(10, precision || 0).toFixed(precision < 0 ? -precision : 0)
    </span><span class="pass" data-count="8"><span class="count">8</span>return Math.round(self * precision) / precision
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = round
</pre><h1>number/times.js (100%)</h1>

<pre>/*
number:times
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var times = function(self, method, context){
    <span class="pass" data-count="2"><span class="count">2</span>for (var i = 0; i < self; i++){
        <span class="pass" data-count="5"><span class="count">5</span>if (method.call(context, i, null, self) === false) break</span>
    }</span>
    <span class="pass" data-count="2"><span class="count">2</span>return self
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = times
</pre><h1>object.js (100%)</h1>

<pre>/*
object
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var object = require("./_shell")["object"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = Object.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>object.implement({
    hasOwnProperty: proto.hasOwnProperty,
    toString:       proto.toString,
    valueOf:        proto.valueOf
})

</span><span class="pass" data-count="1"><span class="count">1</span>object.extend({
    count:   require("./object/count"),
    create:  require("./object/create"),
    every:   require("./object/every"),
    filter:  require("./object/filter"),
    forIn:   require("./object/forIn"),
    forOwn:  require("./object/forOwn"),
    hasOwn:  require("./object/hasOwn"),
    indexOf: require("./object/indexOf"),
    keys:    require("./object/keys"),
    map:     require("./object/map"),
    mixIn:   require("./object/mixIn"),
    remove:  require("./object/remove"),
    some:    require("./object/some"),
    unset:   require("./object/unset"),
    values:  require("./object/values")
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = object
</pre><h1>object/count.js (50%)</h1>

<pre>/*
object:count
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var count = function(self){
    <span class="error" data-count="0"><span class="count">0</span>var length = 0
    </span><span class="error" data-count="0"><span class="count">0</span>forIn(self, function(){
        <span class="error" data-count="0"><span class="count">0</span>length++
    </span>})
    </span><span class="error" data-count="0"><span class="count">0</span>return length
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = count
</pre><h1>object/every.js (100%)</h1>

<pre>/*
object:every
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var every = function(self, method, context){
    <span class="pass" data-count="2"><span class="count">2</span>var every = true
    </span><span class="pass" data-count="2"><span class="count">2</span>forIn(self, function(value, key){
        <span class="pass" data-count="4"><span class="count">4</span>if (!method.call(context, value, key, self)) return every = false
    </span>})
    </span><span class="pass" data-count="2"><span class="count">2</span>return every
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = every
</pre><h1>object/indexOf.js (100%)</h1>

<pre>/*
object:indexOf
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var indexOf = function(self, value){
    <span class="pass" data-count="2"><span class="count">2</span>var key = null
    </span><span class="pass" data-count="2"><span class="count">2</span>forIn(self, function(match, k){
        <span class="pass" data-count="5"><span class="count">5</span>if (value === match){
            <span class="pass" data-count="1"><span class="count">1</span>key = k
            </span><span class="pass" data-count="1"><span class="count">1</span>return false
        </span>}</span>
    })
    </span><span class="pass" data-count="2"><span class="count">2</span>return key
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = indexOf
</pre><h1>object/keys.js (100%)</h1>

<pre>/*
object:keys
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var keys = function(self){
    <span class="pass" data-count="1"><span class="count">1</span>var keys = []
    </span><span class="pass" data-count="1"><span class="count">1</span>forIn(self, function(value, key){
        <span class="pass" data-count="4"><span class="count">4</span>keys.push(key)
    </span>})
    </span><span class="pass" data-count="1"><span class="count">1</span>return keys
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = keys
</pre><h1>object/map.js (100%)</h1>

<pre>/*
object:map
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var map = function(self, method, context){
    <span class="pass" data-count="1"><span class="count">1</span>var results = {}
    </span><span class="pass" data-count="1"><span class="count">1</span>forIn(self, function(value, key){
        <span class="pass" data-count="3"><span class="count">3</span>results[key] = method.call(context, value, key, self)
    </span>})
    </span><span class="pass" data-count="1"><span class="count">1</span>return results
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = map
</pre><h1>object/remove.js (100%)</h1>

<pre>/*
object:remove
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var remove = function(self, item){
    <span class="pass" data-count="1"><span class="count">1</span>var ko = null
    </span><span class="pass" data-count="1"><span class="count">1</span>forIn(self, function(value, key){
        <span class="pass" data-count="1"><span class="count">1</span>if (value === item) return !(delete self[ko = key])
    </span>})
    </span><span class="pass" data-count="1"><span class="count">1</span>return ko
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = remove
</pre><h1>object/some.js (100%)</h1>

<pre>/*
object:some
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var some = function(self, method, context){
    <span class="pass" data-count="2"><span class="count">2</span>var some = false
    </span><span class="pass" data-count="2"><span class="count">2</span>forIn(self, function(value, key){
        <span class="pass" data-count="5"><span class="count">5</span>if (!some && method.call(context, value, key, self)) return !(some = true)
    </span>})
    </span><span class="pass" data-count="2"><span class="count">2</span>return some
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = some
</pre><h1>object/unset.js (44%)</h1>

<pre>/*
object:unset
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var unset = function(self, key){
    <span class="error" data-count="0"><span class="count">0</span>var value
    </span><span class="error" data-count="0"><span class="count">0</span>if (key in self){
        <span class="error" data-count="0"><span class="count">0</span>value = self[key]
        </span><span class="error" data-count="0"><span class="count">0</span>delete self[key]
    </span>}</span>

    <span class="error" data-count="0"><span class="count">0</span>return value
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = unset
</pre><h1>object/values.js (100%)</h1>

<pre>/*
object:values
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var forIn = require("./forIn")

</span><span class="pass" data-count="1"><span class="count">1</span>var values = function(self){
    <span class="pass" data-count="1"><span class="count">1</span>var values = []
    </span><span class="pass" data-count="1"><span class="count">1</span>forIn(self, function(value, key){
        <span class="pass" data-count="4"><span class="count">4</span>values.push(value)
    </span>})
    </span><span class="pass" data-count="1"><span class="count">1</span>return values
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = values
</pre><h1>regexp.js (100%)</h1>

<pre>/*
regexp
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var regexp = require("./_shell")["regexp"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = RegExp.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>regexp.implement({
    exec: proto.exec,
    test: proto.test,
    toString: proto.toString
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = regexp
</pre><h1>string.js (100%)</h1>

<pre>/*
string
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var string = require("./_shell")["string"]
</span><span class="pass" data-count="1"><span class="count">1</span>var proto = String.prototype

</span><span class="pass" data-count="1"><span class="count">1</span>string.implement({
    charAt: proto.charAt,
    charCodeAt: proto.charCodeAt,
    concat: proto.concat,
    indexOf: proto.indexOf,
    lastIndexOf: proto.lastIndexOf,
    match: proto.match,
    replace: proto.replace,
    search: proto.search,
    slice: proto.slice,
    split: proto.split,
    substr: proto.substr,
    substring: proto.substring,
    toLowerCase: proto.toLowerCase,
    toUpperCase: proto.toUpperCase,
    toString: proto.toString,
    valueOf: proto.valueOf
})

</span><span class="pass" data-count="1"><span class="count">1</span>string.extend({
    camelize: require("./string/camelize"),
    capitalize: require("./string/capitalize"),
    clean: require("./string/clean"),
    escape: require("./string/escape"),
    hyphenate: require("./string/hyphenate"),
    trim: require("./string/trim")
})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = string
</pre><h1>string/camelize.js (100%)</h1>

<pre>/*
string:camelize
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var camelize = function(self){
    <span class="pass" data-count="2"><span class="count">2</span>return (self + "").replace(/-\D/g, function(match){
        <span class="pass" data-count="4"><span class="count">4</span>return match.charAt(1).toUpperCase()
    </span>})
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = camelize
</pre><h1>string/capitalize.js (100%)</h1>

<pre>/*
string:capitalize
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var capitalize = function(self){
    <span class="pass" data-count="2"><span class="count">2</span>return (self + "").replace(/\b[a-z]/g, function(match){
        <span class="pass" data-count="4"><span class="count">4</span>return match.toUpperCase()
    </span>})
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = capitalize
</pre><h1>string/clean.js (100%)</h1>

<pre>/*
string:clean
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var trim = require("./trim")

</span><span class="pass" data-count="1"><span class="count">1</span>var clean = function(self){
    <span class="pass" data-count="2"><span class="count">2</span>return trim((self + "").replace(/\s+/g, " "))
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = clean
</pre><h1>string/trim.js (100%)</h1>

<pre>/*
string:trim
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var trim = function(self){
    <span class="pass" data-count="6"><span class="count">6</span>return (self + "").replace(/^\s+|\s+$/g, "")
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = trim
</pre><h1>string/escape.js (100%)</h1>

<pre>/*
string:escape
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var escape = function(self){
    <span class="pass" data-count="1"><span class="count">1</span>return (self + "").replace(/([-.*+?^${}()|[\]\/\\])/g, "\\$1")
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = escape
</pre><h1>string/hyphenate.js (100%)</h1>

<pre>/*
string:hyphenate
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var hyphenate = function(self){
    <span class="pass" data-count="2"><span class="count">2</span>return (self + "").replace(/[A-Z]/g, function(match){
        <span class="pass" data-count="5"><span class="count">5</span>return '-' + match.toLowerCase()
    </span>})
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = hyphenate
</pre><h1>emitter.js (100%)</h1>

<pre>/*
Emitter
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var prime = require("./index"),
    defer = require("./defer"),
    slice = Array.prototype.slice

</span><span class="pass" data-count="1"><span class="count">1</span>var EID = 0

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = prime({

    on: function(event, fn){
        <span class="pass" data-count="7"><span class="count">7</span>var listeners = this._listeners || (this._listeners = {}),
            events = listeners[event] || (listeners[event] = {})

        </span><span class="pass" data-count="7"><span class="count">7</span>for (var k in events) if (events[k] === fn) return this

        </span><span class="pass" data-count="6"><span class="count">6</span>events[(EID++).toString(36)] = fn
        </span><span class="pass" data-count="6"><span class="count">6</span>return this
    </span>},

    off: function(event, fn){
        <span class="pass" data-count="2"><span class="count">2</span>var listeners = this._listeners, events, key, length = 0
        </span><span class="pass" data-count="2"><span class="count">2</span>if (listeners && (events = listeners[event])){

            <span class="pass" data-count="2"><span class="count">2</span>for (var k in events){
                <span class="pass" data-count="2"><span class="count">2</span>length++
                </span><span class="pass" data-count="2"><span class="count">2</span>if (key == null && events[k] === fn) key = k
                </span><span class="pass" data-count="2"><span class="count">2</span>if (key && length > 1) break</span>
            }</span>

            <span class="pass" data-count="2"><span class="count">2</span>if (key){
                <span class="pass" data-count="1"><span class="count">1</span>delete events[key]
                </span><span class="pass" data-count="1"><span class="count">1</span>if (length === 1){
                    <span class="pass" data-count="1"><span class="count">1</span>delete listeners[event]
                    </span><span class="pass" data-count="1"><span class="count">1</span>for (var l in listeners) return this
                    </span><span class="pass" data-count="1"><span class="count">1</span>delete this._listeners
                </span>}</span>
            }</span>
        }</span>
        <span class="pass" data-count="2"><span class="count">2</span>return this
    </span>},

    emit: function(event){
        <span class="pass" data-count="8"><span class="count">8</span>var listeners = this._listeners, events
        </span><span class="pass" data-count="8"><span class="count">8</span>if (listeners && (events = listeners[event])){
            <span class="pass" data-count="8"><span class="count">8</span>var args = (arguments.length > 1) ? slice.call(arguments, 1) : []
            </span><span class="pass" data-count="8"><span class="count">8</span>defer(function(){
                <span class="pass" data-count="8"><span class="count">8</span>var copy = {}
                </span><span class="pass" data-count="8"><span class="count">8</span>for (var k in events) copy[k] = events[k]
                </span><span class="pass" data-count="8"><span class="count">8</span>for (var k in copy) copy[k].apply(this, args)
            </span>})
        </span>}</span>
        <span class="pass" data-count="8"><span class="count">8</span>return this
    </span>}

})
</pre><h1>defer.js (61%)</h1>

<pre>/*
defer
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var deferred = {
    timeout: {},
    frame: {},
    immediate: {}
}

</span><span class="pass" data-count="1"><span class="count">1</span>var UID = 0

</span><span class="pass" data-count="1"><span class="count">1</span>var _defer = function(type, callback, arg){

    <span class="pass" data-count="8"><span class="count">8</span>var collection = deferred[type],
        method     = functions[type]

    </span><span class="pass" data-count="8"><span class="count">8</span>var empty = true
    </span><span class="pass" data-count="8"><span class="count">8</span>for (var p in collection){
        <span class="pass" data-count="4"><span class="count">4</span>empty = false;</span>
        <span class="pass" data-count="4"><span class="count">4</span>break;</span>
    }</span>
    <span class="pass" data-count="8"><span class="count">8</span>var uid = (UID++).toString(36)
    </span><span class="pass" data-count="8"><span class="count">8</span>if (empty) method(arg)
    </span><span class="pass" data-count="8"><span class="count">8</span>collection[uid] = callback
    </span><span class="pass" data-count="8"><span class="count">8</span>return function(){
        <span class="error" data-count="0"><span class="count">0</span>delete collection[uid]
    </span>}

</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var iterate = function(collection){
    <span class="pass" data-count="4"><span class="count">4</span>var time = new Date().getTime()

    </span><span class="pass" data-count="4"><span class="count">4</span>var exec = {}
    </span><span class="pass" data-count="4"><span class="count">4</span>for (var p in collection){
        <span class="pass" data-count="8"><span class="count">8</span>exec[p] = collection[p]
        </span><span class="pass" data-count="8"><span class="count">8</span>delete collection[p]
    </span>}</span>
    <span class="pass" data-count="4"><span class="count">4</span>for (var p in exec) exec[p](time)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var immediate = function(){
    <span class="pass" data-count="4"><span class="count">4</span>iterate(deferred.immediate)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>var functions = {}

</span><span class="pass" data-count="1"><span class="count">1</span>if (global.process && process.nextTick){
    <span class="pass" data-count="1"><span class="count">1</span>functions.immediate = function(){
        <span class="pass" data-count="4"><span class="count">4</span>process.nextTick(immediate)
    </span>}
</span>} else if (global.setImmediate){
    <span class="error" data-count="0"><span class="count">0</span>functions.immediate = function(){
        <span class="error" data-count="0"><span class="count">0</span>setImmediate(immediate)
    </span>}
</span>} else if (global.postMessage && global.addEventListener){

    <span class="error" data-count="0"><span class="count">0</span>addEventListener("message", function(event){
        <span class="error" data-count="0"><span class="count">0</span>if (event.source === global && event.data === "@deferred"){
            <span class="error" data-count="0"><span class="count">0</span>event.stopPropagation()
            </span><span class="error" data-count="0"><span class="count">0</span>immediate()
        </span>}</span>
    }, true)

    </span><span class="error" data-count="0"><span class="count">0</span>functions.immediate = function(){
        <span class="error" data-count="0"><span class="count">0</span>postMessage("@deferred", "*")
    </span>}

</span>} else {
    <span class="error" data-count="0"><span class="count">0</span>functions.immediate = function(){
        <span class="error" data-count="0"><span class="count">0</span>setTimeout(immediate, 0)
    </span>}
</span>}</span>

<span class="pass" data-count="1"><span class="count">1</span>var requestAnimationFrame = global.requestAnimationFrame ||
    global.webkitRequestAnimationFrame ||
    global.mozRequestAnimationFrame ||
    global.oRequestAnimationFrame ||
    global.msRequestAnimationFrame ||
    function(callback) {
        <span class="error" data-count="0"><span class="count">0</span>setTimeout(callback, 1e3 / 60)
    </span>}

</span><span class="pass" data-count="1"><span class="count">1</span>functions.frame = function(){
    <span class="error" data-count="0"><span class="count">0</span>requestAnimationFrame(function(){
        <span class="error" data-count="0"><span class="count">0</span>iterate(deferred.frame)
    </span>})
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>functions.timeout = function(ms){
    <span class="error" data-count="0"><span class="count">0</span>var timeout = deferred.timeout
    </span><span class="error" data-count="0"><span class="count">0</span>var collection = timeout[ms] || (timeout[ms] = {})
    </span><span class="error" data-count="0"><span class="count">0</span>setTimeout(function(){
       <span class="error" data-count="0"><span class="count">0</span>iterate(collection)
    </span>}, ms)
</span>}

/*
export!
*/

</span><span class="pass" data-count="1"><span class="count">1</span>var defer = function(callback, ms){
    <span class="pass" data-count="8"><span class="count">8</span>return (ms) ? _defer("timeout", callback, ms) : _defer("immediate", callback)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>defer.immediate = function(callback){
    <span class="error" data-count="0"><span class="count">0</span>return _defer("immediate", callback)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>defer.timeout = function(callback, ms){
    <span class="error" data-count="0"><span class="count">0</span>if (!ms) ms = 0
    </span><span class="error" data-count="0"><span class="count">0</span>return _defer("timeout", callback, ms)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>defer.frame = function(callback){
    <span class="error" data-count="0"><span class="count">0</span>return _defer("frame", callback)
</span>}

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = defer
</pre><h1>map.js (89%)</h1>

<pre>/*
Map
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var prime   = require("./index"),
    indexOf = require("./array/indexOf")

</span><span class="pass" data-count="1"><span class="count">1</span>var Map = prime({

    constructor: function(){
        <span class="pass" data-count="16"><span class="count">16</span>if (!this instanceof Map) return new Map
        </span><span class="pass" data-count="16"><span class="count">16</span>this.length = 0
        </span><span class="pass" data-count="16"><span class="count">16</span>this._values = []
        </span><span class="pass" data-count="16"><span class="count">16</span>this._keys = []
    </span>},

    set: function(key, value){
        <span class="pass" data-count="48"><span class="count">48</span>var index = indexOf(this._keys, key)

        </span><span class="pass" data-count="48"><span class="count">48</span>if (index === -1){
            <span class="pass" data-count="47"><span class="count">47</span>this._keys.push(key)
            </span><span class="pass" data-count="47"><span class="count">47</span>this._values.push(value)
            </span><span class="pass" data-count="47"><span class="count">47</span>this.length++
        </span>} else {
            <span class="pass" data-count="1"><span class="count">1</span>this._values[index] = value
        </span>}</span>

        <span class="pass" data-count="48"><span class="count">48</span>return this
    </span>},

    get: function(key){
        <span class="pass" data-count="9"><span class="count">9</span>var index = indexOf(this._keys, key)
        </span><span class="pass" data-count="9"><span class="count">9</span>return (index === -1) ? null : this._values[index]
    </span>},

    count: function(){
        <span class="pass" data-count="1"><span class="count">1</span>return this.length
    </span>},

    forEach: function(method, context){
        <span class="pass" data-count="7"><span class="count">7</span>for (var i = 0, l = this.length; i < l; i++){
            <span class="pass" data-count="17"><span class="count">17</span>if (method.call(context, this._values[i], this._keys[i], this) === false) break</span>
        }</span>
        <span class="pass" data-count="7"><span class="count">7</span>return this
    </span>},

    map: function(method, context){
        <span class="pass" data-count="1"><span class="count">1</span>var results = new Map
        </span><span class="pass" data-count="1"><span class="count">1</span>this.forEach(function(value, key){
            <span class="pass" data-count="3"><span class="count">3</span>results.set(key, method.call(context, value, key, this))
        </span>}, this)
        </span><span class="pass" data-count="1"><span class="count">1</span>return results
    </span>},

    filter: function(method, context){
        <span class="pass" data-count="1"><span class="count">1</span>var results = new Map
        </span><span class="pass" data-count="1"><span class="count">1</span>this.forEach(function(value, key){
            <span class="pass" data-count="3"><span class="count">3</span>if (method.call(context, value, key, this)) results.set(key, value)
        </span>}, this)
        </span><span class="pass" data-count="1"><span class="count">1</span>return results
    </span>},

    every: function(method, context){
        <span class="pass" data-count="2"><span class="count">2</span>var every = true
        </span><span class="pass" data-count="2"><span class="count">2</span>this.forEach(function(value, key){
            <span class="pass" data-count="4"><span class="count">4</span>if (!method.call(context, value, key, this)) return (every = false)
        </span>}, this)
        </span><span class="pass" data-count="2"><span class="count">2</span>return every
    </span>},

    some: function(method, context){
        <span class="pass" data-count="2"><span class="count">2</span>var some = false
        </span><span class="pass" data-count="2"><span class="count">2</span>this.forEach(function(value, key){
            <span class="pass" data-count="5"><span class="count">5</span>if (method.call(context, value, key, this)) return !(some = true)
        </span>}, this)
        </span><span class="pass" data-count="2"><span class="count">2</span>return some
    </span>},

    indexOf: function(value){
        <span class="pass" data-count="1"><span class="count">1</span>var index = indexOf(this._values, value)
        </span><span class="pass" data-count="1"><span class="count">1</span>return (index > -1) ? this._keys[index] : null
    </span>},

    remove: function(value){
        <span class="pass" data-count="2"><span class="count">2</span>var index = indexOf(this._values, value)

        </span><span class="pass" data-count="2"><span class="count">2</span>if (index !== -1){
            <span class="pass" data-count="1"><span class="count">1</span>this._values.splice(index, 1)
            </span><span class="pass" data-count="1"><span class="count">1</span>this.length--
            </span><span class="pass" data-count="1"><span class="count">1</span>return this._keys.splice(index, 1)[0]
        </span>}</span>

        <span class="pass" data-count="1"><span class="count">1</span>return null
    </span>},

    unset: function(key){
        <span class="error" data-count="0"><span class="count">0</span>var index = indexOf(this._keys, key)

        </span><span class="error" data-count="0"><span class="count">0</span>if (index !== -1){
            <span class="error" data-count="0"><span class="count">0</span>this._keys.splice(index, 1)
            </span><span class="error" data-count="0"><span class="count">0</span>this.length--
            </span><span class="error" data-count="0"><span class="count">0</span>return this._values.splice(index, 1)[0]
        </span>}</span>

        <span class="error" data-count="0"><span class="count">0</span>return null
    </span>},

    keys: function(){
        <span class="pass" data-count="1"><span class="count">1</span>return this._keys.slice()
    </span>},

    values: function(){
        <span class="pass" data-count="1"><span class="count">1</span>return this._values.slice()
    </span>}

})

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = Map
</pre><h1>shell.js (100%)</h1>

<pre>/*
shell
*/<span class="pass" data-count="1"><span class="count">1</span>"use strict"

</span><span class="pass" data-count="1"><span class="count">1</span>var shell = require("./_shell")

</span><span class="pass" data-count="1"><span class="count">1</span>require("./array")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./object")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./string")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./number")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./function")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./date")
</span><span class="pass" data-count="1"><span class="count">1</span>require("./regexp")

</span><span class="pass" data-count="1"><span class="count">1</span>module.exports = shell
</pre>
</body>
</html>
